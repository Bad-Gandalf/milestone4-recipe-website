{% extends 'base.html'%} {% block content %}
<h3>Recipes</h3>
<div class="row">
    <a href="{{url_for('add_recipe')}}" class="waves-effect waves-light btn btn_small">Add Recipe
                <i class="material-icons right">playlist_add</i>
                </a>
</div>
<ul class="collapsible" data-collapsible="accordion">
    {% for recipe in recipes %}
    <li>
        <div class="collapsible-header">
            <div class="col s1">
                <i class="material-icons">expand_more</i>
            </div>
            <div class="col s2">
                <div class="inline_actions">
                    <a href="{{url_for('delete_recipe', recipe_id=recipe._id)}}" class="waves-effect waves-light btn btn_small">Delete</a>
                    <a href="{{url_for('edit_recipe', recipe_id=recipe._id)}}" class="waves-effect waves-light btn btn_small blue">Edit</a>
                </div>
            </div>
            <div class=" task_header col s7">
                <strong>{{recipe.recipe_name}}</strong>
            </div>
            
            <div class="upvote col s2" >{{recipe.upvotes}}
                <form class="material-icons right" action="{{ url_for('upvote', recipe_id=recipe._id)}}" method="POST">
                    <button class="upvotesbtn" type="submit"><i>thumb_up</i></button></form>
            </div>
        </div>


        <div class="collapsible-body">
            <span>
                <strong>Description:</strong> {{recipe.recipe_description}}
            </span>
            <br>
            <span>
                <strong>Author: </strong>{{recipe.author}} 
            </span>
            <br>
            <span>
                <strong>Cuisine:</strong> {{recipe.cuisine_name}} 
            </span>
            <br>
            <span>
                <strong>Country:</strong> {{recipe.country}} 
            </span>
            <br>
            <span>
                <strong>Preparation Time:</strong> {{recipe.prep_time}} mins
            </span>
            <br>
            <span>
                <strong>Cooking Time:</strong> {{recipe.cook_time}} mins
            </span>
            <br>
            <span>
                <strong>Allergens:</strong> <ul>{% for allergen in recipe.allergens %} <li>{{allergen["allergen_name"]}}</li>{% endfor %}</ul>
            </span>
            <br>
            <br>
            <span>
                <strong>Ingredients:</strong> {{recipe.ingredients}}
            </span>
            <br>
            <br>
            <span>
                <strong>Instructions:</strong> {{recipe.method}}
            </span>
            
        </div>
    </li>
    {% endfor %}
</ul>
{{ pagination.info }}
{{ pagination.links }}
{% endblock %}
