{% extends 'base.html'%} {% block content %}
<h3>Recipes</h3>
<div class="row">
    <a href="{{url_for('add_recipe')}}" class="waves-effect waves-light btn btn_small">Add Recipe
                <i class="material-icons right">playlist_add</i>
                </a>
</div>
<ul class="collapsible" data-collapsible="accordion">
    {% for recipe in recipes %}
    <li>
        <div class="collapsible-header">
            <div class="col s1">
                <i class="material-icons">expand_more</i>
            </div>
            <div class="col s2">
                <div class="inline_actions">
                    <a href="{{url_for('delete_recipe', recipe_id=recipe._id)}}" class="waves-effect waves-light btn btn_small">Delete</a>
                    <a href="{{url_for('edit_recipe', recipe_id=recipe._id)}}" class="waves-effect waves-light btn btn_small blue">Edit</a>
                </div>
            </div>
            <div class=" task_header col s7">
                <strong>{{recipe.recipe_name}}</strong>
            </div>
            
            <div class="upvote col s2" >{{recipe.upvotes}}
                <form class="material-icons right" action="{{ url_for('upvote', recipe_id=recipe._id)}}" method="POST">
                    <button class="upvotesbtn" type="submit"><i>thumb_up</i></button></form>
            </div>
        </div>


        <div class="collapsible-body">
            <span>
                {{recipe.recipe_description}} 
            </span>
            <br>
            <span>
                Author: {{recipe.author}} 
            </span>
            <br>
            <span>
                Cuisine: {{recipe.cuisine_name}} 
            </span>
            <br>
            <span>
                Preparation Time: {{recipe.prep_time}} mins
            </span>
            <br>
            <span>
                Cooking Time: {{recipe.cook_time}} mins
            </span>
            <br>
            <span>
                Instructions: {{recipe.method}}
            </span>
            <br>
            <span>
                Allergens: {% for allergen in recipe.allergens %} {{allergen}}, {% endfor %}
            </span>
        </div>
    </li>
    {% endfor %}
</ul>

{% endblock %}
